<%- include('../includes/head.ejs') %>

   </head>

   <body>
      <!-- Wrapper Start -->
      <div class="wrapper">
         <!-- Sidebar  -->
         <%- include('../includes/navigations.ejs') %>
            <!-- Page Content  -->
            <div id="content-page" class="content-page">
               <!-- TOP Nav Bar -->
               <%- include('../includes/top-navbar.ejs') %>
                  <!-- TOP Nav Bar END -->
                  <div class="container-fluid">
                     <div class="row">
                        <div class="col-lg-12">
                           <div class="iq-card">
                              <div class="iq-card-header d-flex justify-content-between">
                                 <div class="iq-header-title">
                                    <h4 class="card-title">New Device Information</h4>
                                 </div>
                              </div>
                              <div class="iq-card-body">
                                 <div class="new-user-info">
                                    <form action='/admin/create-device?_csrf=<%= csrfToken %>' method='post'>
                                       <div class="row">
                                          <div class="form-group col-md-6">
                                             <label for="deviceid">Device ID</label>
                                             <input type="text" class="form-control" name="deviceid"
                                                placeholder="Device ID" required>
                                          </div>
                                          <div class="form-group col-md-6">
                                             <label for="devicename">Device name</label>
                                             <input type="text" class="form-control" name="devicename"
                                                placeholder="Device Name" required>
                                          </div>
                                          <div class="form-group col-md-12">
                                             <label for="devicedesc">Device Description</label>
                                             <input type="text" class="form-control" name="devicedesc"
                                                placeholder="Device Description" required>
                                          </div>
                                          <div class="form-group col-md-12">
                                             <label for="devicelocation">Location</label>
                                             <input type="text" class="form-control" name="devicelocation"
                                                placeholder="Location" required>
                                          </div>
                                          <div class="form-group col-sm-12">
                                             <label>Type:</label>
                                             <select id="deviceType_select" class="form-control" name="selectDeviceType"
                                                required onchange="onDeviceType()">
                                                <option value="">Select Device Type</option>
                                                <option value="audiometri">Audiometri</option>
                                                <option value="cough">Cough Analyzer</option>
                                             </select>
                                          </div>
                                          <div class="form-group col-md-12">
                                             <label>Device Status:</label>
                                             <select class="form-control" name="selectDeviceStatus" required>
                                                <option value="">Select Device Status</option>
                                                <option value="Active">Active</option>
                                                <option value="Inactive">Inactive</option>
                                                <option value="Broken">Broken</option>
                                             </select>
                                          </div>
                                       </div>
                                       <hr>
                                       <div id="deviceCredential_container" style="display: none;">
                                          <h5 class="mb-3">Device Credential</h5>
                                          <div class="row">
                                             <div class="form-group col-md-6">
                                                <label for="apiurl">API Get Data URL :</label>
                                                <input type="text" class="form-control" name="urlCred"
                                                   placeholder="http://10.13.40.30/streamdata" >
                                             </div>
                                             <div class="form-group col-md-6">
                                                <label for="username">Username:</label>
                                                <input type="text" class="form-control" name="usernameCred"
                                                   placeholder="root" >
                                             </div>
                                             <div class="form-group col-md-6">
                                                <label for="pass">Password:</label>
                                                <input type="password" class="form-control" name="passwordCred"
                                                   placeholder="Password" >
                                             </div>
                                             <div class="form-group col-md-6">
                                                <label for="pass">Retype Password:</label>
                                                <input type="password" class="form-control" name="rpasswordCred"
                                                   placeholder="Password" >
                                             </div>
                                          </div>
                                       </div>

                                       <button type="submit" class="btn btn-primary">Add New Device</button>
                                    </form>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <script>
                     function onDeviceType() {
                        var x = document.getElementById("deviceType_select").value;
                        if (x == 'audiometri') {
                           document.getElementById("deviceCredential_container").style.display = "none";
                        } else if (x == 'cough') {
                           document.getElementById("deviceCredential_container").style.display = "block";
                        }
                        console.log(x)
                     }
                  </script>
                  <!-- Footer -->
                  <%- include('../includes/footer.ejs') %>
                     <!-- Footer END -->
            </div>
      </div>
      <!-- Wrapper END -->
      <script>
         document.getElementById("add-device").classList.add("active"); 
      </script>
      <%- include('../includes/end.ejs') %>